<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<h:form>
		<h:panelGrid id="registerGrid" columns="3" cellpadding="5">
			<h:outputLabel class="label" for="username" value="UserName: *" />
			<p:inputText id="username" value="#{registerBean.user.login}"
				required="true" label="username">
				<f:validator binding="#{userValidator}" />
				<p:ajax event="blur" update="usernameMsg" />
			</p:inputText>
			<p:message id="usernameMsg" for="username" showSummary="true"
				showDetail="false" />

			<h:outputLabel class="label" for="pwd1" value="Password: *" />
			<p:password id="pwd1" value="#{registerBean.user.password}"
				feedback="true" label="Password" required="true">
				<f:validator binding="#{passwordValidator}" />
				<p:ajax event="blur" update="pwd1Msg" />
			</p:password>
			<p:message id="pwd1Msg" for="pwd1" showSummary="true"
				showDetail="false" />

			<h:outputLabel class="label" for="pwd2" value="Password (again): *" />
			<p:password id="pwd2" value="#{registerBean.password2}"
				feedback="false" label="Password (again)" required="true" />
			<p:message id="pwd2Msg" for="pwd2" showSummary="true"
				showDetail="false" />

			<h:outputLabel class="label" for="email" value="Email: *" />
			<p:inputText id="email" value="#{registerBean.user.email}"
				required="true" label="email">
				<f:validator binding="#{emailValidator}" />
				<p:ajax event="blur" update="emailMsg" />
			</p:inputText>
			<p:message id="emailMsg" for="email" showSummary="true"
				showDetail="false" />

			<h:outputLabel class="label" for="firstname" value="FirstName: *" />
			<p:inputText id="firstname" value="#{registerBean.user.firstname}"
				required="true" label="firstname">
				<p:ajax event="blur" update="firstnameMsg" />
			</p:inputText>
			<p:message id="firstnameMsg" for="firstname" showSummary="true"
				showDetail="false" />

			<h:outputLabel class="label" for="lastname" value="LastName: *" />
			<p:inputText id="lastname" value="#{registerBean.user.lastname}"
				required="true" label="lastname">
				<p:ajax event="blur" update="lastnameMsg" />
			</p:inputText>
			<p:message id="lastnameMsg" for="lastname" showSummary="true"
				showDetail="false" />
		</h:panelGrid>
		<p:fieldset id="profile-address" legend="Address">
			<h:panelGrid columns="3" cellpadding="10">
				<h:outputLabel class="label" for="line1" value="Line1: *" />
				<p:inputText id="line1" value="#{registerBean.user.address.line1}"
					required="true" label="line1">
					<p:ajax event="blur" update="line1Msg" />
				</p:inputText>
				<p:message id="line1Msg" for="line1" showSummary="true"
					showDetail="false" />

				<h:outputLabel for="line2" value="Line2: " />
				<p:inputText id="line2" value="#{registerBean.user.address.line2}"
					required="true" label="line2">
					<p:ajax event="blur" update="line2Msg" />
				</p:inputText>
				<p:message id="line2Msg" for="line1" showSummary="false"
					showDetail="false" />

				<h:outputLabel class="label" for="city" value="City: *" />
				<p:inputText id="city" value="#{registerBean.user.address.city}"
					required="true" label="city">
					<p:ajax event="blur" update="cityMsg" />
				</p:inputText>
				<p:message id="cityMsg" for="city" showSummary="true"
					showDetail="false" />

				<h:outputLabel class="label" for="state" value="State: *" />
				<p:inputText id="state" value="#{registerBean.user.address.state}"
					required="true" label="state">
					<p:ajax event="blur" update="stateMsg" />
				</p:inputText>
				<p:message id="stateMsg" for="state" showSummary="true"
					showDetail="false" />

				<h:outputLabel class="label" for="zip" value="Zip: *" />
				<p:inputText id="zip" value="#{registerBean.user.address.zip}"
					required="true" label="zip">
					<p:ajax event="blur" update="zipMsg" />
				</p:inputText>
				<p:message id="zipMsg" for="zip" showSummary="true"
					showDetail="false" />
			</h:panelGrid>
		</p:fieldset>
		<p:commandButton value="Save" update=":contentContainer,:menuPanel"
			actionListener="#{registerBean.save}" />
	</h:form>
	<h:form>
		<p:commandButton value="Cancel" update=":contentContainer,:menuPanel"
			actionListener="#{registerBean.cancel}" />
	</h:form>
</ui:composition>